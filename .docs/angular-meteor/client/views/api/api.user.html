<template name="api.user.html">
  <div>
    <a href="https://github.com/Urigo/angular-meteor/edit/master/.docs/angular-meteor/client/views/api/api.user.html"
       class="btn btn-default btn-lg improve-button">
      <i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this doc
    </a>

    <do-nothing>
        {{#markdown}}

# User

Three [$rootScope](https://docs.angularjs.org/api/ng/service/$rootScope) variables to support [Meteor.user](http://docs.meteor.com/#/full/meteor_user) when working with [Meteor's accounts package](http://docs.meteor.com/#/full/accounts_api)

----

## Usage

    $rootScope.currentUser

    $rootScope.loggingIn

    $rootScope.currentUserPromise

## Variables

<table class="variables-matrix return-arguments">
<tbody><tr>
  <td><a href="" class="label type-hint type-hint-expression">$rootScope</a></td>
  <td><p>Adding to $rootScope support for Meteor's <a href="http://docs.meteor.com/#/full/template_currentuser">currentUser</a>
         and <a href="http://docs.meteor.com/#/full/template_loggingin">loggingIn</a>
  </p>
    <ul>
      <li><code><span class="pln">$rootScope.currentUser</span></code> — The current logged in user and it's data. it is undefined if the user is not logged in</li>
      <li><code><span class="pln">$rootScope.loggingIn</span></code> — True if a login method (such as Meteor.loginWithPassword, Meteor.loginWithFacebook, or Accounts.createUser) is currently in progress</li>
      <li><code><span class="pln">$rootScope.currentUserPromise</span></code> —
          A promise that is resolved with the <a href="http://docs.meteor.com/#/full/meteor_user">currentUser</a> when the user subscription is ready.
          You can wait on it in your route provider's <strong>resolve</strong> config to make sure the <a href="http://docs.meteor.com/#/full/meteor_user">currentUser</a> is not still <i>undefined</i> when you need it in your controllers.</li>
    </ul>
  </td>
</tr>
</tbody></table>

----

## Example

    // In templates
    ng-if="$root.currentUser"

    // In controllers
    if ($rootScope.currentUser)

    // In route config ('ui-router' in the example, but works with 'ngRoute' the same way)
    $stateProvider
        .state('home', {
            url: '/',
            templateUrl: 'client/views/home.tpl',
            controller: 'HomeController'
            resolve: {
                currentUserNonReactive: $rootScope.currentUserPromise
            }
        });

        {{/markdown}}
    </do-nothing>

  </div>
</template>
